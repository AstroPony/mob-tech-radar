{"ast":null,"code":"import _classCallCheck from \"/Users/mpeusschers/Development-local/TechRadar/mob-tech-radar/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/mpeusschers/Development-local/TechRadar/mob-tech-radar/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/mpeusschers/Development-local/TechRadar/mob-tech-radar/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/mpeusschers/Development-local/TechRadar/mob-tech-radar/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/mpeusschers/Development-local/TechRadar/mob-tech-radar/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/mpeusschers/Development-local/TechRadar/mob-tech-radar/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/mpeusschers/Development-local/TechRadar/mob-tech-radar/src/App.tsx\";\nimport React, { Component } from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport { radarConfig } from \"./components/radar\";\nimport api from \"./apis/api.config\";\nvar authorizeButton = document.getElementById(\"authorize_button\");\nvar signoutButton = document.getElementById(\"signout_button\");\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.initClient = _this.initClient.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      radar_visualization(radarConfig);\n      this.handleClientLoad();\n    }\n  }, {\n    key: \"handleClientLoad\",\n    value: function handleClientLoad() {\n      gapi.load(\"client:auth2\", this.initClient);\n    }\n  }, {\n    key: \"initClient\",\n    value: function initClient() {\n      var _this2 = this;\n\n      gapi.client.init({\n        apiKey: api.API_KEY,\n        clientId: api.CLIENT_ID,\n        discoveryDocs: api.DISCOVERY_DOCS,\n        scope: api.SCOPES\n      }).then(function () {\n        // Listen for sign-in state changes.\n        gapi.auth2.getAuthInstance().isSignedIn.listen(_this2.updateSigninStatus.bind(_this2)); // Handle the initial sign-in state.\n\n        _this2.updateSigninStatus(gapi.auth2.getAuthInstance().isSignedIn.get());\n\n        authorizeButton.onclick = _this2.handleAuthClick;\n        signoutButton.onclick = _this2.handleSignoutClick;\n      }, function (error) {\n        _this2.appendPre(JSON.stringify(error, null, 2));\n      });\n    }\n  }, {\n    key: \"updateSigninStatus\",\n    value: function updateSigninStatus(isSignedIn) {\n      if (isSignedIn) {\n        authorizeButton.style.display = \"none\";\n        signoutButton.style.display = \"block\";\n        this.listFiles();\n      } else {\n        authorizeButton.style.display = \"block\";\n        signoutButton.style.display = \"none\";\n      }\n    }\n  }, {\n    key: \"appendPre\",\n    value: function appendPre(message) {\n      var pre = document.getElementById(\"content\");\n      var textContent = document.createTextNode(message + \"\\n\");\n      pre.appendChild(textContent);\n    }\n  }, {\n    key: \"listFiles\",\n    value: function listFiles() {\n      var _this3 = this;\n\n      gapi.client.drive.files.list({\n        pageSize: 10,\n        fields: \"nextPageToken, files(id, name)\"\n      }).then(function (response) {\n        _this3.appendPre(\"Files:\");\n\n        var files = response.result.files;\n\n        if (files && files.length > 0) {\n          for (var i = 0; i < files.length; i++) {\n            var file = files[i];\n\n            _this3.appendPre(file.name + \" (\" + file.id + \")\");\n          }\n        } else {\n          _this3.appendPre(\"No files found.\");\n        }\n      });\n    }\n    /**\n     *  Sign in the user upon button click.\n     */\n\n  }, {\n    key: \"handleAuthClick\",\n    value: function handleAuthClick(event) {\n      gapi.auth2.getAuthInstance().signIn();\n    }\n    /**\n     *  Sign out the user upon button click.\n     */\n\n  }, {\n    key: \"handleSignoutClick\",\n    value: function handleSignoutClick(event) {\n      gapi.auth2.getAuthInstance().signOut();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        className: \"App-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: logo,\n        className: \"App-logo\",\n        alt: \"logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      })), React.createElement(\"svg\", {\n        id: \"radar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/mpeusschers/Development-local/TechRadar/mob-tech-radar/src/App.tsx"],"names":["React","Component","radarConfig","api","authorizeButton","document","getElementById","signoutButton","App","props","initClient","bind","radar_visualization","handleClientLoad","gapi","load","client","init","apiKey","API_KEY","clientId","CLIENT_ID","discoveryDocs","DISCOVERY_DOCS","scope","SCOPES","then","auth2","getAuthInstance","isSignedIn","listen","updateSigninStatus","get","onclick","handleAuthClick","handleSignoutClick","error","appendPre","JSON","stringify","style","display","listFiles","message","pre","textContent","createTextNode","appendChild","drive","files","list","pageSize","fields","response","result","length","i","file","name","id","event","signIn","signOut","logo"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport { RadarConfig, radarConfig } from \"./components/radar\";\nimport api from \"./apis/api.config\";\n\ndeclare function radar_visualization(config: RadarConfig): void;\ndeclare const gapi: any;\n\nvar authorizeButton: any = document.getElementById(\"authorize_button\");\nvar signoutButton: any = document.getElementById(\"signout_button\");\nclass App extends Component {\n  constructor(props: any) {\n    super(props);\n    this.initClient = this.initClient.bind(this);\n  }\n\n  componentDidMount(): void {\n    radar_visualization(radarConfig);\n    this.handleClientLoad();\n  }\n\n  handleClientLoad() {\n    gapi.load(\"client:auth2\", this.initClient);\n  }\n\n  initClient() {\n    gapi.client\n      .init({\n        apiKey: api.API_KEY,\n        clientId: api.CLIENT_ID,\n        discoveryDocs: api.DISCOVERY_DOCS,\n        scope: api.SCOPES\n      })\n      .then(\n        () => {\n          // Listen for sign-in state changes.\n          gapi.auth2\n            .getAuthInstance()\n            .isSignedIn.listen(this.updateSigninStatus.bind(this));\n\n          // Handle the initial sign-in state.\n          this.updateSigninStatus(\n            gapi.auth2.getAuthInstance().isSignedIn.get()\n          );\n          authorizeButton.onclick = this.handleAuthClick;\n          signoutButton.onclick = this.handleSignoutClick;\n        },\n        (error: any) => {\n          this.appendPre(JSON.stringify(error, null, 2));\n        }\n      );\n  }\n\n  updateSigninStatus(isSignedIn: any) {\n    if (isSignedIn) {\n      authorizeButton.style.display = \"none\";\n      signoutButton.style.display = \"block\";\n      this.listFiles();\n    } else {\n      authorizeButton.style.display = \"block\";\n      signoutButton.style.display = \"none\";\n    }\n  }\n\n  appendPre(message: any) {\n    const pre: any = document.getElementById(\"content\");\n    const textContent = document.createTextNode(message + \"\\n\");\n    pre.appendChild(textContent);\n  }\n\n  listFiles() {\n    gapi.client.drive.files\n      .list({\n        pageSize: 10,\n        fields: \"nextPageToken, files(id, name)\"\n      })\n      .then((response: any) => {\n        this.appendPre(\"Files:\");\n        var files = response.result.files;\n        if (files && files.length > 0) {\n          for (var i = 0; i < files.length; i++) {\n            var file = files[i];\n            this.appendPre(file.name + \" (\" + file.id + \")\");\n          }\n        } else {\n          this.appendPre(\"No files found.\");\n        }\n      });\n  }\n\n  /**\n   *  Sign in the user upon button click.\n   */\n  handleAuthClick(event: MouseEvent) {\n    gapi.auth2.getAuthInstance().signIn();\n  }\n\n  /**\n   *  Sign out the user upon button click.\n   */\n  handleSignoutClick(event: MouseEvent) {\n    gapi.auth2.getAuthInstance().signOut();\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        </header>\n        <svg id=\"radar\" />\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}